<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="/archive.css">
    <script src="/archive.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  </head>

  <body>
    <script>
$.getJSON(archive.apiFromPage(), function (record) {
    let html = [];

    html.push(`<img class="fit-to-screen" src="`+archive.asset(record.id)+`">`);
    html.push(`<a href="`+archive.discordMessageUrl(record)+`">`+
	      `<img src="`+archive.discordIconUrl()+`" width=25px, height=25px>`+
	      `</a>`);

    html.push(`<div class="tags">`);
    record.tags.forEach(function (tag, index) {
        urlTag = encodeURIComponent(tag)
        html.push(`<div class="tag">`);
        html.push(`<a href="`+archive.page("tag", urlTag)+`">`+tag+`</a>`);
        html.push(`</div>`);
    });
    html.push(`</div>`);

    html.push(`<div class="desc">`+record.caption+`</div>`);

    $("body").html(html.join(""));
});
    </script>
  </body>
</html>
